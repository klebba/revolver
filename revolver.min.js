//     Revolver.js Beta 1
//     http://github.com/klebba/revolver
//     (c) 2011-2012 Casey Klebba
//     Revolver may be freely distributed under the MIT license.
var h=!0,j=!1;function k(){return function(){}}
function m(a,b){var c=window.hasOwnProperty("Modernizr")?window.hc:j;this.options=$.extend(h,{},{speed:1250,ib:"swing",mode:"fluid",h:c&&c.h,A:c&&c.kc,ca:c&&c.lc,dc:c&&c.mc,O:j,f:j,fa:j,W:h,Ub:0,C:{enabled:j,sb:j,pause:4E3,direction:"forward"},controls:{Xa:h,list:j,key:j},o:{Mb:k(),P:k(),B:k(),Va:k(),gc:k(),fc:k(),gb:k()},b:{H:"rev-mask",c:"rev-container",item:"rev-item",ua:"rev-clone",h:"rev-touch",fb:"rev-current",next:"rev-next",j:"rev-previous",focus:"rev-focus",Ya:"rev-before-focus",Wa:"rev-after-focus",
enabled:"rev-enabled"},debug:j},b||{});this.options.f&&(this.options.O=h);this.a=a instanceof jQuery?a:$(a);this.T()&&this.tb()}
m.prototype={Ab:"rev",tb:function(){var a=this.Ab,b=this.options,c=b.o.Mb;this.r=$(window);this.controls={};this.Ra=["-webkit-","-moz-","-ms-","-o-",""];this.d={X:"mousedown."+a,Da:"mousemove."+a,Ba:"mouseenter."+a,Ca:"mouseleave."+a,wa:"keydown."+a,click:"click."+a,$:"resize."+a};this.d.N="transitionend."+a+" webkitTransitionEnd."+a+" oTransitionEnd."+a+" msTransitionEnd."+a;b.debug?(this.d.M="mousedown."+a+" touchstart."+a,this.d.ba="mousemove."+a+" touchmove."+a,this.d.aa="mouseup."+a+" touchend."+
a):(this.d.M="touchstart."+a,this.d.ba="touchmove."+a,this.d.aa="touchend."+a);this.d.Oa="touchcancel."+a;this.r.k(this.d.$,$.i(this.Ib,this));this.Sb();this.Tb();b.f&&(this.f={});(b.h||b.debug)&&this.ec(h);c&&this.dispatchEvent("ready",c)},ec:function(a){var b=this.options;this.h={};a?(this.da(),this.a.m(b.b.h)):(this.Z(),this.a.z(b.b.h))},Sb:function(){var a=this.options;this.a.m(a.b.H);this.H=this.a;this.c=$("."+a.b.c,this.a);if(a.A||a.ca)this.n(this.c,"transform-origin","0 0"),this.c.s("left",
"auto")},ha:function(){this.l=this.c.children();this.options.f&&(this.cb(),this.l=this.c.children())},cb:function(){var a=this.ia(),b=this.options.b.ua,c;if("undefined"!==typeof this.p){if(a===this.p.length/2)return;this.p.hasOwnProperty("remove")&&(this.p.remove(),this.p=void 0)}c=this.l.slice(0,a).bb();a=this.l.slice(-a).bb();this.c.append(c).Kb(a);this.p=$.qc(c,a).m(b);this.G(this.p)},Tb:function(){var a=this.options,b;this.state={};this.state.element=this.a;this.state.ga=j;this.ha();this.Aa();
this.state.xa=-1;this.state.S<this.state.q?(this.state.e=0,this.disable()):(b=a.Ub+this.state.I,this.state.e=this.t(b),this.enable(),this.state.position=this.Q(),0!==this.state.position&&this.K(0),this.K(),this.J());a.W&&this.G(this.qa())},Sa:function(){var a=this.options,b,c;a.controls.Xa?(b='<button class="'+a.b.j+'" title="Previous"></button>',c='<button class="'+a.b.next+'" title="Next"></button>',b=[b,c],this.a.Kb(b.join("")),this.controls={j:$("."+a.b.j,this.a),next:$("."+a.b.next,this.a)}):
this.controls={};this.Ta()},Nb:function(){var a=this.controls;"undefined"!==typeof a.j&&a.j.remove();"undefined"!==typeof a.next&&a.next.remove();this.Ob()},K:function(a){var b=this.Q(),a="undefined"===typeof a?this.options.speed:a;$.extend(this.state,{position:b});this.move(b,a)},J:function(){var a=this.state,b=this.options,c=this.controls,e=b.O,d=a.e,f=a.Wb,g=a.jb,i=c.j,c=c.next,n=this.l,l=b.b.fb,p=$(n[d]);e||(i&&(d<=f?i.ea("disabled",""):i.Ka("disabled")),c&&(d>=g?c.ea("disabled",""):c.Ka("disabled")));
$(n).filter("."+l).z(l);p.m(l);b.fa&&1===a.va&&this.ma(p)},ma:function(a){var a=a instanceof jQuery?a:$(a),b=this.options.b,c=b.focus,e=b.Ya,b=b.Wa,d=this.yb;if(!d||a.get(0)!==d.get(0))d&&(d.z(c),d.Lb().z(e),d.next().z(b)),a.Lb().m(e),a.next().m(b),a.m(c),this.yb=a},ub:function(){var a=this.options,b=this.V();b&&a.debug===h&&this.a.append('<div style="background-color:rgba(255,0,0,.25);width:'+b[2]+";height:"+b[3]+";position:absolute; top:"+b[1]+";left:"+b[0]+';" />');this.state.v=j;this.Vb();this.Ua()},
xb:function(){this.Ma();this.Pb();clearInterval(this.sc)},Vb:function(){var a=this,b=this.options,c=b.C.direction,e=b.speed+b.C.pause;this.state.v||(this.Ma(),this.hb=setInterval(function(){"backward"===c?a.j():a.next();a.dispatchEvent("userNext",b.o.gb)},e),this.state.v=h)},Ma:function(){this.state.v&&(clearInterval(this.hb),this.state.v=j)},Ta:function(){var a=this,b=this.controls,c=this.options,e=c.b,d=this.d;b.j&&this.a.k(d.X,"."+e.j,$.i(this.Ga,this));b.next&&this.a.k(d.X,"."+e.next,$.i(this.Fa,
this));c.controls.key&&this.r.k(d.wa,$.i(this.Fb,this));c.fa&&this.a.k(d.click,"."+e.item,function(){a.ma(this)})},Ob:function(){var a=this.d;this.r.g(a.wa);this.a.g(a.N).g(a.X).g(a.click);this.Z()},Ua:function(){var a=this.d;this.V()?this.r.k(a.Da,$.i(this,"onMouseMove")):this.a.k(a.Ba,$.i(this,"onMouseEnter")).k(a.Ca,$.i(this,"onMouseLeave"))},Pb:function(){var a=this.d;this.V()?this.r.g(a.Da):this.a.g(a.Ba).g(a.Ca)},da:function(){this.a.Ja(this.d.M,"."+this.options.b.c,$.i(this.Hb,this))},Z:function(){var a=
this.d;this.r.g(a.ba).g(a.aa).g(a.Oa);this.a.g(a.M)},Yb:function(){var a=this.d;this.a.g(a.M);this.r.k(a.ba,$.i(this.Gb,this)).Ja(a.aa,$.i(this.Ha,this)).Ja(a.Oa,$.i(this.Ha,this))},Qb:function(){this.Z();this.da()},Aa:function(){var a=this.options,b=this.l,c=b.length,e=$(b[0]).outerWidth(),d=100*(1/c),f,g,i;this.F()?(this.c.s("width",100*c+"%"),d!==this.state.wb&&(this.c.detach(),$.la(b,function(){$(this).s("width",d+"%")}),this.a.append(this.c),e=$(b[0]).outerWidth())):this.vb()&&this.c.s("width",
c*e+"px");c=this.H.outerWidth();f=this.c.outerWidth();g=this.ia();i=this.ab(b,g);a.f?(a=g,b=b.length-g-1):(a=0,b=b.length-1);$.extend(this.state,{w:e,wb:d,q:c,S:f,va:g,I:a,U:b,Y:i,Wb:i[0],jb:i[i.length-1]})},$:function(){this.ha();this.Aa();this.state.S<this.state.q?(this.state.e=this.t(0),this.disable()):(this.enable(),this.state.position=this.Q(),this.K(0),this.J())},Ga:function(a){a.preventDefault();this.j();this.dispatchEvent("userPrevious",this.options.o.gc)},Fa:function(a){a.preventDefault();
this.next();this.dispatchEvent("userNext",this.options.o.fc)},Fb:function(a){switch(a.which){case 37:case 38:this.Ga(a);break;case 39:case 40:this.Fa(a)}},Ib:function(){this.$()},Ia:function(){this.a.g(this.d.N,"."+this.options.b.c);this.B()},Hb:function(a){2!==a.button&&(a=this.Ea(a),this.h={scroll:void 0,La:a.pageX,Zb:a.pageY,ya:0,zb:0,Xb:this.D(),tc:this.state.e},this.Yb())},Gb:function(a){var a=this.Ea(a),b=this.h,c=b.La-a.pageX,e=b.Zb-a.pageY,d=this.na(b.Xb-c);$.extend(this.h,{ya:a.pageX,zb:a.pageY});
"undefined"===typeof b.scroll&&(this.h.scroll=!!(b.scroll||Math.abs(c)<Math.abs(e)),this.h.scroll||this.za());this.h.scroll||(a.preventDefault(),this.move(d,0))},Ha:function(a){var b=this.h,c=b.ya-b.La;b.scroll===j&&(a.preventDefault(),this.state.e=this.R(this.D()),0>c&&(this.state.e+=1),a=this.t(this.state.e),this.state.e=-1,this.L(a));this.Qb();this.Pa()},Ea:function(a){var b=a.rc;b&&b.changedTouches&&(a.pageX=b.changedTouches[0].pageX,a.pageY=b.changedTouches[0].pageY);return a},n:function(a,b,
c,e){var d=this.Ra,f={},g;for(g=0;g<d.length;g++)f[d[g]+b]=e===h?d[g]+c:c;a.s(f)},Jb:function(a,b){var c=this.Ra,e,d;for(d=0;d<c.length;d++)if((e=a.s(c[d]+b))&&"none"!==e)return e;return j},t:function(a){var b=this.state,c=b.I,b=b.U;return a<c?c:a>b?b:a},lb:function(a){var b=this.state.Y.length-1;return 0>a?0:a>b?b:a},na:function(a){var b=this.ka(),c=this.ja();return a<c?c:a>b?b:a},ia:function(){var a=this.state,b;"undefined"!==typeof a&&"undefined"!==typeof a.q?(b=a.q,a=a.w):(b=this.H.outerWidth(),
a=$(this.l[0]).outerWidth());b=Math.floor(b/a);return 0===b?1:b},R:function(a){return this.t(Math.floor(Math.abs(a/this.state.w)))},Za:function(a){return this.R(a-1)},$a:function(a){return this.R(a-this.state.q+1)},Q:function(){return this.na(this.u(this.state.e))},u:function(a){return Math.floor(-1*this.t(a)*this.state.w)},ka:function(){return this.u(this.state.I)},ja:function(){var a=this.state;return this.u(a.U)-(a.w-a.q)},ab:function(a,b){for(var c=a.Eb("."+this.options.b.ua).length,e=Math.ceil(c/
b),d=[],f=0,g=0;f<e;)g<c&&(d[f]=g,g+=b,f++);this.options.f||0<e%b&&(d[f-1]=c-b);return d},D:function(){var a=this.c,b;return this.options.A&&(b=this.Jb(a,"transform"))?(a=b.substr(7,b.length-8).split(", "))&&a[4]?a[4]:0:a.position().left},kb:function(a){var b=this.ka(),c=this.ja(),e=this.u(this.state.xa),d=this.state.w*this.p.length/2;return a===b&&e===c?a+d:a===c&&e===b?a-d:a},eb:function(a){return this.options.A===j?100*(a/this.state.q):100*(a/this.state.S)},move:function(a,b,c){var e=this,d=this.c,
f=this.options,g=f.b,b="undefined"===typeof b?0:b,c="undefined"===typeof c?f.ib:c,i=this.D();a!==i&&(f.f&&!this.ta&&(i=this.kb(a),i!==a&&(this.ta=h,this.f.Cb=a,this.f.Db=b,this.f.Bb=c,setTimeout(function(){e.move(e.f.Cb,e.f.Db,e.f.Bb);e.ta=j},1),a=i,b=0)),a=this.F()?this.eb(a)+"%":a+"px",this.P(),f.dc?(this.n(d,"transition-duration",b+"ms"),this.n(d,"transition-timing-function",c),0===b?this.Ia():(this.a.g(this.d.N,"."+g.c),this.a.k(this.d.N,"."+g.c,$.i(this.Ia,this))),f.A||f.ca?this.n(d,"transition-property",
0<b?"transform":"none",h):this.n(d,"transition-property",0<b?"left":"none"),f.ca?this.n(d,"transform","translate3d("+a+", 0, 0)"):f.A?this.n(d,"transform","translate("+a+", 0)"):d.stop().s({left:a})):d.stop().jc({left:a},b,c,$.i(this.B,this)))},P:function(){var a=this.options,b=a.o.P;a.W&&this.G(this.qa());this.J();this.za();this.dispatchEvent("beforemove",b)},B:function(){var a=this.options,b=a.o.B;a.W&&this.G(this.ra(this.D()));this.J();this.Pa();this.dispatchEvent("aftermove",b);this.state.sa&&
(this.state.sa=j,this.dispatchEvent("afterchange",a.o.Va))},dispatchEvent:function(a,b){var c=this.qb(),e=a.toLowerCase();$(this).uc(e,c);$.oc(b)&&b.call(this,c)},G:function(a){var b;$(a).la(function(){b=$(this).find("img[data-src]").Eb("img[src]");0<b.length&&b.la(function(){$(this).bind("load",function(){$(this).Ka("data-src")}).ea("src",$(this).data("src"))})})},za:function(){this.state.ga=h},Pa:function(){this.state.ga=j},qb:function(){return $.extend({},this.state)},V:function(){var a=this.options.C.sb;
return a&&4===a.length?a:j},ra:function(a){return this.l.slice(this.Za(a),this.$a(a)+1)},rb:function(a){return this.ra(this.u(a))},qa:function(){return this.rb(this.state.e)},Rb:function(a){var b=this.state.e,a=this.t(a);return a!==b?(this.state.xa=b,this.state.e=a,this.state.sa=h):j},mb:function(){return this.oa(1)},ob:function(){return this.oa(-1)},oa:function(a){var b=this.state,c=b.e,e=b.I,b=b.U,d=0<a,f=d?b:e;return c===f?this.options.O?d?e:b:f:c+a},L:function(a,b){var c=this.l,c=$.pc(a)?a:$.nc(a,
c);this.Rb(c)&&this.K(b)},Na:function(a,b){var c=this.state,e=c.Y,c=c.e,a=this.lb(a),e=e[a];e!==c&&this.L(e,b)},nb:function(){return this.pa(1)},pb:function(){return this.pa(-1)},pa:function(a){var b=this.state,c=b.Y,e=c.length,d=b.e,f=0<a,g=f?e-1:0,a=Math.ceil(d/b.va)+1*a;return d===c[g]?this.options.O?f?0:e-1:g:a},T:function(){var a=this.a,b=this.options,c=$("."+b.b.c,a),b=$("."+b.b.item,c);"undefined"===typeof this.Qa&&(this.Qa=a&&a.length&&c&&c.length&&b&&1<b.length);return this.Qa},F:function(){return"fluid"===
this.options.mode},vb:function(){return"fixed"===this.options.mode},isEnabled:function(){return this.state.enabled},next:function(){this.F()?this.$b():this.ac()},j:function(){this.F()?this.bc():this.cc()},$b:function(){this.L(this.mb())},bc:function(){this.L(this.ob())},ac:function(){this.Na(this.nb())},cc:function(){this.Na(this.pb())},enable:function(){if(!this.isEnabled()){var a=this.options;this.T()?(this.Sa(),a.C.enabled&&this.ub(),this.a.m(a.b.enabled),this.state.enabled=h):this.state.enabled=
j}},disable:function(){this.isEnabled()&&(this.T()?(this.Nb(),this.c.stop(),this.state.v&&this.xb(),this.state.enabled=j,this.a.z(this.options.b.enabled)):this.state.enabled=j)}};this.ic=m;